{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const params = new URLSearchParams({\n  key: '47568770-df67670bdc8e06478abf0c27f',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nconst url = `https://pixabay.com/api/?${params}`;\n\nexport default function getImages(query) {\n  return fetch(`${url}&q=${query}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}","export const createCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `<li class='images-item'>\n  <div class='card-wrapper'>\n  \n        <a class='card-link' href=${largeImageURL}>\n          <img src=${webformatURL}>\n          </a>\n        </div>\n        <div class='card-content'>\n          <ul class='stats-list'>\n            <li class='stats-item'><div><span>Likes</span><span>${likes}</span></div></li>\n            <li class='stats-item'><div><span>Views</span><span>${views}</span></div></li>\n            <li class='stats-item'><div><span>Comments</span><span>${comments}</span></div></li>\n            <li class='stats-item'><div><span>Downloads</span><span>${downloads}</span></div></li>\n          </ul>\n        </div>\n      \n  </li>`\n};\n\nexport const appendCards = (ulElem, cards) => {\n  ulElem.insertAdjacentHTML('afterbegin', cards);\n}\n\n// export default {createCard, appendCards};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImages from './js/pixabay-api';\nimport {createCard, appendCards}  from './js/render-functions';\n\nconst formRef = document.querySelector('.search-form')\nconst ulElemRef = document.querySelector('.images-list');\nformRef.addEventListener('submit', (e) => handleSubmit(e))\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const query = e.target.search.value.split(' ').join('+');\n\n  getImages(query)\n    .then(result => {\n      if(result.hits.length) {\n        const cards = result.hits.map(hit => createCard(hit)).join(\"\");\n        appendCards(ulElemRef, cards);\n        gallery.refresh();\n      } else {\n        iziToast.show({\n          title: 'Warning',\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: 'topRight',\n          color: 'yellow',\n        })\n      }\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error',\n        message: \"Sorry, trouble happend. Please try again later!\",\n        position: 'topRight',\n        color: 'red',\n      })\n    });\n}\n\nlet gallery = new SimpleLightbox('.card-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\ngallery.on('show.simplelightbox');"],"names":["params","url","getImages","query","res","createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","appendCards","ulElem","cards","formRef","ulElemRef","e","handleSubmit","result","hit","gallery","iziToast","error","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEKC,EAAM,4BAA4BD,CAAM,GAE/B,SAASE,EAAUC,EAAO,CACvC,OAAO,MAAM,GAAGF,CAAG,MAAME,CAAK,EAAE,EAAE,KAAKC,GAAO,CAC5C,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CChBO,MAAMC,EAAa,CAAC,CACzB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA;AAAA,oCAG2BL,CAAa;AAAA,qBAC5BD,CAAY;AAAA;AAAA;AAAA;AAAA;AAAA,kEAKiCG,CAAK;AAAA,kEACLC,CAAK;AAAA,qEACFC,CAAQ;AAAA,sEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAOlEC,EAAc,CAACC,EAAQC,IAAU,CAC5CD,EAAO,mBAAmB,aAAcC,CAAK,CAC/C,ECrBMC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACvDD,EAAQ,iBAAiB,SAAWE,GAAMC,EAAaD,CAAC,CAAC,EAEzD,SAASC,EAAaD,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMf,EAAQe,EAAE,OAAO,OAAO,MAAM,MAAM,GAAG,EAAE,KAAK,GAAG,EAEvDhB,EAAUC,CAAK,EACZ,KAAKiB,GAAU,CACd,GAAGA,EAAO,KAAK,OAAQ,CACrB,MAAML,EAAQK,EAAO,KAAK,IAAIC,GAAOhB,EAAWgB,CAAG,CAAC,EAAE,KAAK,EAAE,EAC7DR,EAAYI,EAAWF,CAAK,EAC5BO,EAAQ,QAAO,CACvB,MACQC,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,2EACT,SAAU,WACV,MAAO,QACjB,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,kDACT,SAAU,WACV,MAAO,KACf,CAAO,CACP,CAAK,CACL,CAEA,IAAID,EAAU,IAAIG,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAQ,GAAG,qBAAqB"}