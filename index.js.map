{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const params = new URLSearchParams({\n  key: '47568770-df67670bdc8e06478abf0c27f',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nconst url = `https://pixabay.com/api/?${params}`;\n\nexport default function getImages(query) {\n  return fetch(`${url}&q=${query}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}","export const createCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `<li class='image-item'>\n    <div class='card-wrapper'>\n      <div class='image-wrapper'>\n        <a class='card-link' href=${largeImageURL}>\n          <img src=${webformatURL} alt='${tags}'>\n        </a>\n      </div>\n      <div class='card-content'>\n        <ul class='stats-list'>\n          <li class='stats-item'><div><span>Likes</span><span>${likes}</span></div></li>\n          <li class='stats-item'><div><span>Views</span><span>${views}</span></div></li>\n          <li class='stats-item'><div><span>Comments</span><span>${comments}</span></div></li>\n          <li class='stats-item'><div><span>Downloads</span><span>${downloads}</span></div></li>\n        </ul>\n      </div>\n    </div>\n  </li>`\n};\n\nexport const appendCards = (ulElem, cards) => {\n  ulElem.insertAdjacentHTML('afterbegin', cards);\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImages from './js/pixabay-api';\nimport {createCard, appendCards}  from './js/render-functions';\n\nconst formRef = document.querySelector('.search-form');\nconst inputRef = document.querySelector('.search-input')\nconst ulElemRef = document.querySelector('.images-list');\nconst loaderRef = document.querySelector('.loader');\n\nformRef.addEventListener('submit', (e) => handleSubmit(e))\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  if(e.target.search.value.trim()) {\n    inputRef.style.borderColor = '#808080';\n    ulElemRef.innerHTML = '';\n\n    const query = e.target.search.value.trim().split(' ').join('+');\n\n    getImages(query)\n      .then(result => {\n        if(result.hits.length) {\n          const cards = result.hits.map(hit => createCard(hit)).join(\"\");\n          appendCards(ulElemRef, cards);\n          gallery.refresh();\n        } else {\n          iziToast.show({\n            title: 'Warning',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: 'topRight',\n            color: 'yellow',\n          })\n        }\n      })\n      .catch(error => {\n        iziToast.show({\n          title: 'Error',\n          message: \"Sorry, trouble happend. Please try again later!\",\n          position: 'topRight',\n          color: 'red',\n        })\n      });\n  } else {\n    inputRef.style.borderColor = 'red';\n    iziToast.show({\n      title: 'Warning',\n      message: \"Please fill the field!\",\n      position: 'topRight',\n      color: 'red',\n    })\n  }\n}\n\nlet gallery = new SimpleLightbox('.card-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\ngallery.on('show.simplelightbox');"],"names":["params","url","getImages","query","res","createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","appendCards","ulElem","cards","formRef","inputRef","ulElemRef","e","handleSubmit","result","hit","gallery","iziToast","error","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEKC,EAAM,4BAA4BD,CAAM,GAE/B,SAASE,EAAUC,EAAO,CACvC,OAAO,MAAM,GAAGF,CAAG,MAAME,CAAK,EAAE,EAAE,KAAKC,GAAO,CAC5C,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CChBO,MAAMC,EAAa,CAAC,CACzB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA;AAAA,oCAG2BL,CAAa;AAAA,qBAC5BD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gEAKkBC,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAOhEC,EAAc,CAACC,EAAQC,IAAU,CAC5CD,EAAO,mBAAmB,aAAcC,CAAK,CAC/C,ECrBMC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAY,SAAS,cAAc,cAAc,EACrC,SAAS,cAAc,SAAS,EAElDF,EAAQ,iBAAiB,SAAWG,GAAMC,EAAaD,CAAC,CAAC,EAEzD,SAASC,EAAaD,EAAG,CAGvB,GAFAA,EAAE,eAAc,EAEbA,EAAE,OAAO,OAAO,MAAM,KAAI,EAAI,CAC/BF,EAAS,MAAM,YAAc,UAC7BC,EAAU,UAAY,GAEtB,MAAMf,EAAQgB,EAAE,OAAO,OAAO,MAAM,KAAM,EAAC,MAAM,GAAG,EAAE,KAAK,GAAG,EAE9DjB,EAAUC,CAAK,EACZ,KAAKkB,GAAU,CACd,GAAGA,EAAO,KAAK,OAAQ,CACrB,MAAMN,EAAQM,EAAO,KAAK,IAAIC,GAAOjB,EAAWiB,CAAG,CAAC,EAAE,KAAK,EAAE,EAC7DT,EAAYK,EAAWH,CAAK,EAC5BQ,EAAQ,QAAO,CACzB,MACUC,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,2EACT,SAAU,WACV,MAAO,QACnB,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACdD,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,kDACT,SAAU,WACV,MAAO,KACjB,CAAS,CACT,CAAO,CACP,MACIP,EAAS,MAAM,YAAc,MAC7BO,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,yBACT,SAAU,WACV,MAAO,KACb,CAAK,CAEL,CAEA,IAAID,EAAU,IAAIG,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAQ,GAAG,qBAAqB"}